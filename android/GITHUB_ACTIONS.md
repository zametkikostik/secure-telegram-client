# ü§ñ GitHub Actions ‚Äî –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —Å–±–æ—Ä–∫–∞ APK

## –ù–∞—Å—Ç—Ä–æ–µ–Ω–Ω—ã–µ workflow

### 1. Android APK Build (`android-build.yml`)

**–¢—Ä–∏–≥–≥–µ—Ä—ã**:
- Push –≤ –≤–µ—Ç–∫—É `master` (—Ç–æ–ª—å–∫–æ –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ `android/`)
- Pull Request
- –†—É—á–Ω–æ–π –∑–∞–ø—É—Å–∫ (workflow_dispatch)

**–ß—Ç–æ –¥–µ–ª–∞–µ—Ç**:
1. ‚úÖ –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç JDK 17
2. ‚úÖ –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç Android SDK
3. ‚úÖ –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç Android –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã –∏ NDK
4. ‚úÖ –°–æ–±–∏—Ä–∞–µ—Ç Debug APK —á–µ—Ä–µ–∑ Gradle
5. ‚úÖ –ó–∞–≥—Ä—É–∂–∞–µ—Ç APK –∫–∞–∫ –∞—Ä—Ç–µ—Ñ–∞–∫—Ç
6. ‚úÖ –°–æ–∑–¥–∞—ë—Ç —Ä–µ–ª–∏–∑ (–µ—Å–ª–∏ –µ—Å—Ç—å —Ç–µ–≥)

**–†–µ–∑—É–ª—å—Ç–∞—Ç**:
- Debug APK –¥–æ—Å—Ç—É–ø–µ–Ω –≤ –∞—Ä—Ç–µ—Ñ–∞–∫—Ç–∞—Ö (30 –¥–Ω–µ–π)
- Release APK (–ø—Ä–∏ –ø—É—à–µ –≤ master)

---

## üì• –ö–∞–∫ —Å–∫–∞—á–∞—Ç—å —Å–æ–±—Ä–∞–Ω–Ω—ã–π APK

### –ß–µ—Ä–µ–∑ GitHub Actions

1. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ –≤–∫–ª–∞–¥–∫—É **Actions**: https://github.com/secure-telegram-team/secure-telegram-client/actions
2. –í—ã–±–µ—Ä–∏—Ç–µ –ø–æ—Å–ª–µ–¥–Ω–∏–π —É—Å–ø–µ—à–Ω—ã–π –∑–∞–ø—É—Å–∫
3. –í —Ä–∞–∑–¥–µ–ª–µ **Artifacts** —Å–∫–∞—á–∞–π—Ç–µ `secure-messenger-debug`
4. –†–∞—Å–ø–∞–∫—É–π—Ç–µ ZIP ‚Äî –≤–Ω—É—Ç—Ä–∏ –±—É–¥–µ—Ç `app-fdroid-debug.apk`

### –ß–µ—Ä–µ–∑ Releases

1. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ –≤–∫–ª–∞–¥–∫—É **Releases**: https://github.com/secure-telegram-team/secure-telegram-client/releases
2. –°–∫–∞—á–∞–π—Ç–µ APK –∏–∑ –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ —Ä–µ–ª–∏–∑–∞

---

## üöÄ –†—É—á–Ω–æ–π –∑–∞–ø—É—Å–∫ —Å–±–æ—Ä–∫–∏

1. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ –≤–∫–ª–∞–¥–∫—É **Actions**
2. –í—ã–±–µ—Ä–∏—Ç–µ workflow **"Android APK Build"**
3. –ù–∞–∂–º–∏—Ç–µ **"Run workflow"**
4. –í—ã–±–µ—Ä–∏—Ç–µ –≤–µ—Ç–∫—É (–æ–±—ã—á–Ω–æ `master`)
5. –ù–∞–∂–º–∏—Ç–µ **"Run workflow"**
6. –î–æ–∂–¥–∏—Ç–µ—Å—å –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è (~5-10 –º–∏–Ω—É—Ç)
7. –°–∫–∞—á–∞–π—Ç–µ APK –∏–∑ –∞—Ä—Ç–µ—Ñ–∞–∫—Ç–æ–≤

---

## ‚öôÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∏

### –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

```yaml
env:
  ANDROID_VERSION: 34
  BUILD_TOOLS_VERSION: 34.0.0
```

### –ê—Ä—Ç–µ—Ñ–∞–∫—Ç—ã

- **–ò–º—è**: `secure-messenger-debug`
- **–ü—É—Ç—å**: `android/app/build/outputs/apk/fdroid/debug/app-fdroid-debug.apk`
- **–°—Ä–æ–∫ —Ö—Ä–∞–Ω–µ–Ω–∏—è**: 30 –¥–Ω–µ–π

---

## üìä –°—Ç–∞—Ç—É—Å —Å–±–æ—Ä–∫–∏

[![Android APK Build](https://github.com/secure-telegram-team/secure-telegram-client/actions/workflows/android-build.yml/badge.svg)](https://github.com/secure-telegram-team/secure-telegram-client/actions/workflows/android-build.yml)

---

## üîß Troubleshooting

### –°–±–æ—Ä–∫–∞ –Ω–µ —É–¥–∞–ª–∞—Å—å

1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –≤ Actions
2. –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ `build.gradle.kts` –∫–æ—Ä—Ä–µ–∫—Ç–µ–Ω
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –≤–µ—Ä—Å–∏–∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

### APK –Ω–µ –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è

1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ –ø—É—Ç—å —É–∫–∞–∑–∞–Ω –≤–µ—Ä–Ω–æ
2. –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ Gradle —Å–±–æ—Ä–∫–∞ —É—Å–ø–µ—à–Ω–∞
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞

---

## üìù –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ä–µ–ª–∏–∑—ã

–î–ª—è —Å–æ–∑–¥–∞–Ω–∏—è —Ä–µ–ª–∏–∑–∞ —Å APK:

```bash
# –°–æ–∑–¥–∞–π—Ç–µ —Ç–µ–≥
git tag v0.2.0
git push origin v0.2.0
```

GitHub Actions –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏:
1. –°–æ–±–µ—Ä—ë—Ç APK
2. –°–æ–∑–¥–∞—Å—Ç —Ä–µ–ª–∏–∑ –Ω–∞ GitHub
3. –ü—Ä–∏–∫—Ä–µ–ø–∏—Ç APK –∫ —Ä–µ–ª–∏–∑—É

---

**–¢–µ–ø–µ—Ä—å GitHub –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–±–∏—Ä–∞–µ—Ç APK!** üéâ
