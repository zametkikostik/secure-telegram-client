# ğŸ” Secure Messenger Android

Ğ‘ĞµÑÑĞµÑ€Ğ²ĞµÑ€Ğ½Ñ‹Ğ¹ Android-ĞºĞ»Ğ¸ĞµĞ½Ñ‚ Ğ´Ğ»Ñ Ğ±ĞµĞ·Ğ¾Ğ¿Ğ°ÑĞ½Ğ¾Ğ³Ğ¾ Ğ¾Ğ±Ñ‰ĞµĞ½Ğ¸Ñ Ñ Ğ´ĞµÑ†ĞµĞ½Ñ‚Ñ€Ğ°Ğ»Ğ¸Ğ·Ğ¾Ğ²Ğ°Ğ½Ğ½Ñ‹Ğ¼Ğ¸ Ğ¾Ğ±Ğ½Ğ¾Ğ²Ğ»ĞµĞ½Ğ¸ÑĞ¼Ğ¸ Ñ‡ĞµÑ€ĞµĞ· IPFS.

[![License](https://img.shields.io/badge/License-Apache--2.0-blue.svg)](https://opensource.org/licenses/Apache-2.0)
[![F-Droid](https://img.shields.io/f-droid/v/com.example.securemessenger.fdroid)](https://f-droid.org/packages/com.example.securemessenger.fdroid/)
[![Android](https://img.shields.io/badge/Android-8.0+-green.svg)](https://www.android.com/)

---

## ğŸ“‹ ĞÑĞ¾Ğ±ĞµĞ½Ğ½Ğ¾ÑÑ‚Ğ¸

### ğŸ” Ğ‘ĞµĞ·Ğ¾Ğ¿Ğ°ÑĞ½Ğ¾ÑÑ‚ÑŒ
- **ĞŸĞ¾ÑÑ‚ĞºĞ²Ğ°Ğ½Ñ‚Ğ¾Ğ²Ğ¾Ğµ ÑˆĞ¸Ñ„Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ** (Kyber-1024)
- **Ğ¡Ğ¸Ğ¼Ğ¼ĞµÑ‚Ñ€Ğ¸Ñ‡Ğ½Ğ¾Ğµ ÑˆĞ¸Ñ„Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ** (XChaCha20-Poly1305)
- **Key Exchange** (X25519 Diffie-Hellman)
- **ĞŸĞ¾Ğ´Ğ¿Ğ¸ÑÑŒ Ñ€ĞµĞ»Ğ¸Ğ·Ğ¾Ğ²** (Ed25519)

### ğŸŒ Ğ”ĞµÑ†ĞµĞ½Ñ‚Ñ€Ğ°Ğ»Ğ¸Ğ·Ğ°Ñ†Ğ¸Ñ
- **IPFS Ğ¾Ğ±Ğ½Ğ¾Ğ²Ğ»ĞµĞ½Ğ¸Ñ** â€” Ğ±ĞµĞ· Ñ†ĞµĞ½Ñ‚Ñ€Ğ°Ğ»ÑŒĞ½Ğ¾Ğ³Ğ¾ ÑĞµÑ€Ğ²ĞµÑ€Ğ°
- **P2P fallback** â€” Ğ¾Ğ±Ñ‰ĞµĞ½Ğ¸Ğµ Ğ¿Ñ€Ğ¸ Ğ½ĞµĞ´Ğ¾ÑÑ‚ÑƒĞ¿Ğ½Ğ¾ÑÑ‚Ğ¸ Telegram
- **Ğ—ĞµÑ€ĞºĞ°Ğ»Ğ°** â€” Codeberg (Ğ•Ğ¡), GitFlic (Ğ Ğ¤)

### ğŸ‘» Anti-Censorship
- **obfs4** â€” Ğ¾Ğ±Ñ„ÑƒÑĞºĞ°Ñ†Ğ¸Ñ Ñ‚Ñ€Ğ°Ñ„Ğ¸ĞºĞ° Ğ¿Ğ¾Ğ´ ÑˆÑƒĞ¼
- **Ğ”ĞµÑ‚ĞµĞºÑ‚Ğ¾Ñ€ Ğ±Ğ»Ğ¾ĞºĞ¸Ñ€Ğ¾Ğ²Ğ¾Ğº** â€” Ğ°Ğ²Ñ‚Ğ¾-Ğ¿ĞµÑ€ĞµĞºĞ»ÑÑ‡ĞµĞ½Ğ¸Ğµ Ñ‚Ñ€Ğ°Ğ½ÑĞ¿Ğ¾Ñ€Ñ‚Ğ¾Ğ²
- **Pluggable Transports** â€” Ñ€Ğ°ÑÑˆĞ¸Ñ€ÑĞµĞ¼Ñ‹Ğ¹ API

---

## ğŸ—ï¸ ĞÑ€Ñ…Ğ¸Ñ‚ĞµĞºÑ‚ÑƒÑ€Ğ°

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                  Android App (Kotlin)               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  UI  â”‚  Service  â”‚  Repository  â”‚  ViewModel       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                        â†“ JNI
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                  Rust Core Library                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Telegram â”‚ Crypto â”‚ Transport â”‚ Updater â”‚ P2P      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                        â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  TDLib  â”‚  libp2p  â”‚  IPFS  â”‚  SQLCipher          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸš€ Ğ‘Ñ‹ÑÑ‚Ñ€Ñ‹Ğ¹ ÑÑ‚Ğ°Ñ€Ñ‚

### Ğ¢Ñ€ĞµĞ±Ğ¾Ğ²Ğ°Ğ½Ğ¸Ñ
- Android Studio Arctic Fox+
- NDK 25+
- Rust 1.75+
- cargo-ndk: `cargo install cargo-ndk`

### Ğ¡Ğ±Ğ¾Ñ€ĞºĞ°

```bash
# ĞšĞ»Ğ¾Ğ½Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ
git clone https://github.com/example/secure-messenger-android.git
cd secure-messenger-android

# Ğ¡Ğ±Ğ¾Ñ€ĞºĞ° debug Ğ²ĞµÑ€ÑĞ¸Ğ¸
./gradlew assembleFdroidDebug

# Ğ¡Ğ±Ğ¾Ñ€ĞºĞ° release Ğ²ĞµÑ€ÑĞ¸Ğ¸
./gradlew assembleFdroidRelease

# Ğ£ÑÑ‚Ğ°Ğ½Ğ¾Ğ²ĞºĞ° Ğ½Ğ° ÑƒÑÑ‚Ñ€Ğ¾Ğ¹ÑÑ‚Ğ²Ğ¾
adb install app/build/outputs/apk/fdroid/debug/app-fdroid-debug.apk
```

### Flavor'Ñ‹

| Flavor | ĞĞ¿Ğ¸ÑĞ°Ğ½Ğ¸Ğµ | Obfuscation |
|--------|----------|-------------|
| `fdroid` | Ğ”Ğ»Ñ F-Droid | âŒ ĞÑ‚ĞºĞ»ÑÑ‡ĞµĞ½ |
| `full` | ĞŸĞ¾Ğ»Ğ½Ğ°Ñ Ğ²ĞµÑ€ÑĞ¸Ñ | âœ… Ğ’ĞºĞ»ÑÑ‡ĞµĞ½ |

---

## ğŸ“¦ Ğ Ğ°ÑĞ¿Ñ€Ğ¾ÑÑ‚Ñ€Ğ°Ğ½ĞµĞ½Ğ¸Ğµ

### Ğ§ĞµÑ€ĞµĞ· IPFS

1. **ĞŸĞ¾Ğ´Ğ¿Ğ¸ÑÑŒ APK:**
   ```bash
   ./scripts/sign-release.sh app/build/outputs/apk/fdroid/release/app-fdroid-release-unsigned.apk
   ```

2. **ĞŸÑƒĞ±Ğ»Ğ¸ĞºĞ°Ñ†Ğ¸Ñ Ğ² IPFS:**
   ```bash
   ./scripts/ipfs-publish.sh app-fdroid-release-signed.apk 0.2.0
   ```

3. **ĞĞ±Ğ½Ğ¾Ğ²Ğ»ĞµĞ½Ğ¸Ğµ manifest:**
   ```json
   {
     "latest_version": "0.2.0",
     "apk_cid": "QmYourAPKCID",
     "public_key": "YourPublicKey"
   }
   ```

### Ğ—ĞµÑ€ĞºĞ°Ğ»Ğ°

- **Codeberg**: https://codeberg.org/example/secure-messenger-android
- **GitFlic**: https://gitflic.ru/project/example/secure-messenger-android

---

## ğŸ”§ ĞšĞ¾Ğ½Ñ„Ğ¸Ğ³ÑƒÑ€Ğ°Ñ†Ğ¸Ñ

### ĞŸĞµÑ€ĞµĞ¼ĞµĞ½Ğ½Ñ‹Ğµ Ğ¾ĞºÑ€ÑƒĞ¶ĞµĞ½Ğ¸Ñ

```bash
# Ğ”Ğ»Ñ Ğ¿Ğ¾Ğ´Ğ¿Ğ¸ÑĞ¸ Ñ€ĞµĞ»Ğ¸Ğ·Ğ¾Ğ²
export KEYSTORE_PATH=/path/to/keystore
export KEYSTORE_PASSWORD=your_password
export KEY_ALIAS=secure-messenger
export KEY_PASSWORD=your_password

# Ğ”Ğ»Ñ Ğ¿Ğ¸Ğ½Ğ½Ğ¸Ğ½Ğ³Ğ° Ğ² IPFS
export PINATA_API_KEY=your_key
export PINATA_SECRET_KEY=your_secret
```

### Ğ¡Ğ±Ğ¾Ñ€Ğ¾Ñ‡Ğ½Ñ‹Ğµ Ñ„Ğ»Ğ°Ğ³Ğ¸

```toml
# Ğ’ Cargo.toml
[features]
default = ["obfuscation"]
no-obfuscation = []  # Ğ”Ğ»Ñ F-Droid
p2p = []  # P2P fallback
```

---

## ğŸ§ª Ğ¢ĞµÑÑ‚Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ

### Unit Ñ‚ĞµÑÑ‚Ñ‹

```bash
# Rust Ñ‚ĞµÑÑ‚Ñ‹
cd core && cargo test

# Android Ñ‚ĞµÑÑ‚Ñ‹
./gradlew testFdroidDebugUnitTest
```

### Ğ ÑƒÑ‡Ğ½Ğ¾Ğµ Ñ‚ĞµÑÑ‚Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ

- [ ] Ğ¡Ğ±Ğ¾Ñ€ĞºĞ° Ğ½Ğ° Ñ‡Ğ¸ÑÑ‚Ğ¾Ğ¹ Ubuntu (Docker)
- [ ] ĞĞ±Ğ½Ğ¾Ğ²Ğ»ĞµĞ½Ğ¸Ğµ Ñ‡ĞµÑ€ĞµĞ· IPFS Ğ½Ğ° Android 10/12/14
- [ ] ĞĞ±Ñ…Ğ¾Ğ´ DPI Ñ‡ĞµÑ€ĞµĞ· obfs4
- [ ] P2P Ñ‡Ğ°Ñ‚ Ğ¼ĞµĞ¶Ğ´Ñƒ Ğ´Ğ²ÑƒĞ¼Ñ ÑƒÑÑ‚Ñ€Ğ¾Ğ¹ÑÑ‚Ğ²Ğ°Ğ¼Ğ¸

---

## ğŸ“„ Ğ›Ğ¸Ñ†ĞµĞ½Ğ·Ğ¸Ñ

Apache-2.0 â€” ÑĞ¼. [LICENSE](LICENSE)

---

## âš ï¸ ĞŸÑ€ĞµĞ´ÑƒĞ¿Ñ€ĞµĞ¶Ğ´ĞµĞ½Ğ¸Ğµ

**Ğ­Ñ‚Ğ¾ Ğ¸ÑÑĞ»ĞµĞ´Ğ¾Ğ²Ğ°Ñ‚ĞµĞ»ÑŒÑĞºĞ¸Ğ¹ Ğ¿Ñ€Ğ¾ĞµĞºÑ‚.** ĞĞµ Ğ¸ÑĞ¿Ğ¾Ğ»ÑŒĞ·ÑƒĞ¹Ñ‚Ğµ Ğ´Ğ»Ñ ĞºÑ€Ğ¸Ñ‚Ğ¸Ñ‡ĞµÑĞºĞ¸ Ğ²Ğ°Ğ¶Ğ½Ğ¾Ğ¹ ĞºĞ¾Ğ¼Ğ¼ÑƒĞ½Ğ¸ĞºĞ°Ñ†Ğ¸Ğ¸.

Ğ˜ÑĞ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ ÑÑ€ĞµĞ´ÑÑ‚Ğ² Ğ¾Ğ±Ñ…Ğ¾Ğ´Ğ° Ğ±Ğ»Ğ¾ĞºĞ¸Ñ€Ğ¾Ğ²Ğ¾Ğº Ğ¼Ğ¾Ğ¶ĞµÑ‚ Ñ€ĞµĞ³ÑƒĞ»Ğ¸Ñ€Ğ¾Ğ²Ğ°Ñ‚ÑŒÑÑ Ğ·Ğ°ĞºĞ¾Ğ½Ğ¾Ğ´Ğ°Ñ‚ĞµĞ»ÑŒÑÑ‚Ğ²Ğ¾Ğ¼ Ğ²Ğ°ÑˆĞµĞ¹ ÑÑ‚Ñ€Ğ°Ğ½Ñ‹.

---

## ğŸ“ ĞšĞ¾Ğ½Ñ‚Ğ°ĞºÑ‚Ñ‹

- GitHub: https://github.com/example/secure-messenger-android
- Issues: https://github.com/example/secure-messenger-android/issues
- F-Droid: https://f-droid.org/packages/com.example.securemessenger.fdroid/

---

**Ğ’ĞµÑ€ÑĞ¸Ñ**: 0.2.0  
**Ğ”Ğ°Ñ‚Ğ°**: 2024-02-27
